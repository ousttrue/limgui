{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "clang-viewer",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/lua",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "clang_viewer.lua"
            },
            "args": [
                "-IC:/Program Files/LLVM/include",
                // Export
                // "-EC:/Program Files/LLVM/include/clang-c/Index.h,libclang.dll",
                "-EC:/Program Files/LLVM/include/clang-c/CXString.h,libclang.dll",
            ],
            "env": {
                "PATH": "${env:PATH};${workspaceFolder}\\libs\\glfw\\build\\src\\Release;${workspaceFolder}\\libs\\build\\Release\\bin;C:\\Program Files\\LLVM\\bin",
                "LUA_PATH": ";;${workspaceFolder}\\luajitffi\\?.lua",
            }
        },
        {
            "name": "gltf-viewer",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/lua",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "gltf_viewer.lua"
            },
            "args": [
                "${env:GLTF_SAMPLE_MODELS}/2.0/Cube/glTF/Cube.gltf",
            ],
            "env": {
                "PATH": "${env:PATH};${workspaceFolder}\\libs\\glfw\\build\\src\\Release;${workspaceFolder}\\libs\\build\\Release\\bin",
                "LUA_PATH": ";;${workspaceFolder}\\luajitffi\\?.lua",
            }
        },
        {
            "name": "json-viewer",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/lua",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "json_viewer.lua"
            },
            "args": [],
            "env": {
                "PATH": "${env:PATH};${workspaceFolder}\\libs\\glfw\\build\\src\\Release;${workspaceFolder}\\libs\\build\\Release\\bin",
                "JSON_PATH": "${env:GLTF_SAMPLE_MODELS}/2.0/Cube/glTF/Cube.gltf",
            },
        },
        {
            "name": "example_glfw_opengl3",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/lua",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "example_glfw_opengl3.lua"
            },
            "env": {
                "PATH": "${env:PATH};${workspaceFolder}\\libs\\glfw\\build\\src\\Release;${workspaceFolder}\\libs\\build\\Release\\bin",
            },
        },
        {
            "name": "glfw-sample",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/lua",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "glfw_sample.lua"
            },
            "env": {
                "PATH": "${env:PATH};${workspaceFolder}\\libs\\glfw\\build\\src\\Release;${workspaceFolder}\\libs\\build\\Release\\bin",
            }
        },
        {
            "name": "invoke task",
            "type": "python",
            "request": "launch",
            "module": "invoke",
            "args": [
                "build-lua"
                // "generate-ffi"
            ],
            "console": "integratedTerminal"
        },
        {
            "name": "generate imgui ffi",
            "type": "lua-local",
            "request": "launch",
            "cwd": "${workspaceFolder}/luajitffi",
            "program": {
                "lua": "${workspaceFolder}/build/Release/luajit.exe",
                "file": "main.lua"
            },
            "args": [
                // CFLAGS
                "-DIMGUI_API=__declspec(dllexport)",
                "-DIMGUI_HAS_DOCK=1",
                "-DGLAD_API_CALL_EXPORT=1",
                "-DGLAD_API_CALL_EXPORT_BUILD=1",
                // Export
                "-E../libs/glfw/deps/glad/gl.h,glad.dll",
                "-E../libs/imgui/imgui.h,imgui.dll",
                "-E../libs/imgui/imgui_internal.h,imgui.dll",
                "-E../libs/imgui/backends/imgui_impl_opengl3.h,imgui.dll",
                "-E../libs/imgui/backends/imgui_impl_glfw.h,imgui.dll",
                // OUt
                "-O../lua/imgui_ffi",
            ],
            "env": {
                // path to libclang.dll
                "PATH": "${env:PATH};C:\\Program Files\\LLVM\\bin",
            },
        },
    ]
}